<div id="page_content">
    <div id="page_content_inner">
        <div class="md-card md-card-single main-print" id="meal_plans" single-card>
            <form ng-submit="update($event)" class="uk-form-stacked">
                <div class="md-card-toolbar">
                    <h1 class="md-card-toolbar-heading-text uk-text-warning">Edit Meal Plan</h1>
                </div>
                <div class="md-card-content large-padding">
                    <div class="uk-grid uk-grid-divider" data-uk-grid-margin>
                        <div class="uk-width-large-1-2">
                            <div class="uk-form-row">
                                <label for="meal_plan_edit_name_control">Meal Name</label>
                                <input type="text" class="md-input" name="meal_plan_edit_name_control" id="meal_plan_edit_name_control" ng-model="meal_plan.name" md-input />
                            </div>
                            <div class="uk-form-row">
                                <label for="meal_plan_edit_price_control">Price</label>
                                <input type="text" class="md-input" id="meal_plan_edit_price_control" md-input ng-model="meal_plan.price" />
                            </div>
                            <div class="uk-form-row">
                                <label class="uk-form-label">Type</label>
                                <input config="{ create:false, maxItems: 1 }" options="options.type" ng-model="meal_plan.type" name="meal_plan_edit_type_control" selectize />
                            </div>
                            <div class="uk-form-row">
                                <label class="uk-form-label">Status</label>
                                <input config="{ create:false, maxItems: 1 }" options="options.status" ng-model="meal_plan.status" name="meal_plan_edit_status_control" selectize />
                            </div>
                            <div class="uk-form-row">
                                <label for="meal_plan_edit_average_calories_control">Average Calories per Day</label>
                                <input type="text" class="md-input" name="meal_plan_edit_average_calories_control" id="meal_plan_edit_average_calories_control" ng-model="meal_plan.averageCalories" md-input />
                            </div>
                            <div class="uk-form-row">
                                <label class="uk-form-label uk-margin-bottom">Duration (days):</label>
                                <span class="icheck-inline">
                                        <input type="radio" name="duration" id="duration_3" icheck ng-model="duration" value="3" ng-change="onDurationChange(duration)" />
                                        <label for="duration_3" class="inline-label">3</label>
                                    </span>
                                <span class="icheck-inline">
                                        <input type="radio" name="duration" id="duration_5" icheck ng-model="duration" value="5" ng-change="onDurationChange(duration)" />
                                        <label for="duration_5" class="inline-label">5</label>
                                    </span>
                                <span class="icheck-inline">
                                        <input type="radio" name="duration" id="duration_7" icheck ng-model="duration" value="7" ng-change="onDurationChange(duration)" />
                                        <label for="duration_7" class="inline-label">7</label>
                                    </span>
                            </div>
                        </div>
                        <div class="uk-width-large-1-2">
                            <div class="uk-form-row">
                                <label for="meal_plan_edit_remarks_control">Remarks</label>
                                <input class="md-input" name="meal_plan_edit_remarks_control" id="meal_plan_edit_remarks_control" cols="30" rows="2" ng-model="meal_plan.remarks" md-input textarea-autosize></input>
                            </div>
                            <div class="uk-form-row">
                                <label for="meal_plan_edit_description_control">Description</label>
                                <input class="md-input" name="meal_plan_edit_description_control" id="meal_plan_edit_description_control" cols="30" rows="2" ng-model="meal_plan.description" md-input textarea-autosize></input>
                            </div>
                            <div class="uk-form-row">
                                <h3 class="heading_a uk-margin-small-bottom">Upload New Image</h3>
                                <input type="file" class="dropify" ng-model="image" name="image" ngf-select ngf-drop ngf-accept="'image/*'" ngf-multiple="false" />
                            </div>
                            <div class="uk-form-row">
                                <h3 class="heading_a uk-margin-small-bottom">New Image Preview</h3>
                                <img ngf-src="image" class="img_medium">
                            </div>
                        </div>
                    </div>
                    <div class="uk-grid" data-uk-grid-margin>
                        <div class="uk-width-1-1">
                            <div id="form_invoice_service">
                                <div class="uk-grid" data-uk-grid-margin ng-repeat="dailyPlan in meal_plan.meals">
                                    <div class="uk-width-medium-1-10 uk-text-center">
                                        <p class="uk-text-large">Meals for Day {{$index +1}} ({{meal_plan.meals[$index].totalCalories}} cal)</p>
                                    </div>
                                    <div class="uk-width-medium-9-10">
                                        <div class="uk-grid uk-grid-small" data-uk-grid-margin>
                                            <div class="uk-width-medium-1-4">
                                                <label class="uk-form-label">Breakfast</label>
                                                <input type="text" config="config.meals" options="options.breakfast" ng-model="meals[$index].breakfast" name="" ng-change="setBreakfast($index, meals[$index].breakfast)" selectize data-uk-tooltip="{pos:'top'}" title="Meal for breakfast">
                                            </div>
                                            <div class="uk-width-medium-1-4">
                                                <label class="uk-form-label">Lunch</label>
                                                <input type="text" config="config.meals" options="options.lunch" ng-model="meals[$index].lunch" name="" ng-change="setLunch($index, meals[$index].lunch)" selectize data-uk-tooltip="{pos:'top'}" title="Meal for lunch`">
                                            </div>
                                            <div class="uk-width-medium-1-4">
                                                <label class="uk-form-label">Dinner</label>
                                                <input type="text" config="config.meals" options="options.dinner" ng-model="meals[$index].dinner" name="" ng-change="setDinner($index, meals[$index].dinner)" selectize data-uk-tooltip="{pos:'top'}" title="Meal for dinner">
                                            </div>
                                            <div class="uk-width-medium-1-4">
                                                <label class="uk-form-label">Snack (optional)</label>
                                                <input type="text" config="config.meals" options="options.snack" ng-model="meals[$index].snack" name="" ng-change="setSnack($index, meals[$index].snack)" selectize data-uk-tooltip="{pos:'top'}" title="Snack">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="uk-text-center uk-margin-medium-top uk-margin-bottom">
                                    <label id="aveCalories" class="uk-form-label">Average Calories per Day: {{meal_plan.averageCalories}}</label>
                                </div>
                            </div>
                            <div class="uk-text-center uk-margin-medium-top uk-margin-bottom">
                                <button type="submit" class="md-btn md-btn-flat md-btn-flat-primary">Save Changes</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="md-fab-wrapper md-fab-speed-dial">
    <a class="md-fab md-fab-primary" href="javascript:void(0)" data-uk-tooltip="{pos:'right'}" title="Actions" md-fab-speed-dial><i class="material-icons">&#xE5D2;</i></a>
    <div class="md-fab-wrapper-small">
        <a class="md-fab md-fab-small md-fab-warning" href="javascript:void(0)" data-uk-tooltip="{cls:'uk-tooltip-small',pos:'left'}" title="Back to list" ui-sref="restricted.products.meal_plans"><i class="material-icons">&#xE5C4;</i></a>
    </div>
</div>
